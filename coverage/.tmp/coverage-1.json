{"result":[{"scriptId":"757","url":"file:///F:/pb/pb-mcpgateway/src/tests/router/GatewayRouterImpl.test.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":54062,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":54062,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":516,"endOffset":17832,"count":1}],"isBlockCoverage":true},{"functionName":"createMockService","ranges":[{"startOffset":584,"endOffset":935,"count":17}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":972,"endOffset":1296,"count":25}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1333,"endOffset":1390,"count":25}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1444,"endOffset":2279,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1539,"endOffset":1707,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":1796,"endOffset":2005,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2080,"endOffset":2273,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2326,"endOffset":5000,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2609,"endOffset":3509,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":3587,"endOffset":4067,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4142,"endOffset":4994,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4295,"endOffset":4354,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5068,"endOffset":7765,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5319,"endOffset":5913,"count":4}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6000,"endOffset":6203,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6290,"endOffset":6727,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6560,"endOffset":6572,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":6817,"endOffset":7309,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7381,"endOffset":7759,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7818,"endOffset":11512,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":8116,"endOffset":9027,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9090,"endOffset":9624,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9424,"endOffset":9451,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9576,"endOffset":9603,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9695,"endOffset":10382,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10070,"endOffset":10099,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10276,"endOffset":10305,"count":3}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10454,"endOffset":11506,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11570,"endOffset":14070,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11653,"endOffset":12021,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12096,"endOffset":12424,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12503,"endOffset":12921,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12979,"endOffset":13648,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13704,"endOffset":14064,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14125,"endOffset":14904,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14194,"endOffset":14577,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14646,"endOffset":14898,"count":1},{"startOffset":14691,"endOffset":14765,"count":1100}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14964,"endOffset":16360,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15038,"endOffset":15525,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":15604,"endOffset":16354,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16424,"endOffset":16983,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":16517,"endOffset":16977,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":17037,"endOffset":17828,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":17118,"endOffset":17822,"count":1}],"isBlockCoverage":true}]},{"scriptId":"759","url":"file:///F:/pb/pb-mcpgateway/src/router/GatewayRouterImpl.ts","functions":[{"functionName":"","ranges":[{"startOffset":0,"endOffset":76743,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13,"endOffset":76743,"count":1}],"isBlockCoverage":true},{"functionName":"<instance_members_initializer>","ranges":[{"startOffset":346,"endOffset":21437,"count":26}],"isBlockCoverage":true},{"functionName":"GatewayRouterImpl","ranges":[{"startOffset":395,"endOffset":630,"count":26}],"isBlockCoverage":true},{"functionName":"addRoute","ranges":[{"startOffset":912,"endOffset":1059,"count":0}],"isBlockCoverage":false},{"functionName":"removeRoute","ranges":[{"startOffset":1062,"endOffset":1242,"count":0}],"isBlockCoverage":false},{"functionName":"setRoutingStrategy","ranges":[{"startOffset":1245,"endOffset":1530,"count":4}],"isBlockCoverage":true},{"functionName":"getRoutingStrategy","ranges":[{"startOffset":1533,"endOffset":1598,"count":2}],"isBlockCoverage":true},{"functionName":"getLoadBalancingStrategy","ranges":[{"startOffset":1732,"endOffset":1802,"count":2}],"isBlockCoverage":true},{"functionName":"setLoadBalancingStrategy","ranges":[{"startOffset":1805,"endOffset":1884,"count":4}],"isBlockCoverage":true},{"functionName":"resetMetrics","ranges":[{"startOffset":1887,"endOffset":2133,"count":1}],"isBlockCoverage":true},{"functionName":"route","ranges":[{"startOffset":2136,"endOffset":3970,"count":6},{"startOffset":2351,"endOffset":2355,"count":0},{"startOffset":2471,"endOffset":2609,"count":1},{"startOffset":2609,"endOffset":2647,"count":5},{"startOffset":2647,"endOffset":2874,"count":4},{"startOffset":2874,"endOffset":2980,"count":5},{"startOffset":2980,"endOffset":3092,"count":0},{"startOffset":3092,"endOffset":3815,"count":4},{"startOffset":3815,"endOffset":3966,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":2724,"endOffset":2854,"count":7},{"startOffset":2782,"endOffset":2795,"count":0}],"isBlockCoverage":true},{"functionName":"addRoutingRule","ranges":[{"startOffset":3973,"endOffset":4617,"count":5},{"startOffset":4124,"endOffset":4203,"count":0},{"startOffset":4271,"endOffset":4363,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4235,"endOffset":4268,"count":11}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4431,"endOffset":4478,"count":13},{"startOffset":4453,"endOffset":4457,"count":0},{"startOffset":4473,"endOffset":4477,"count":0}],"isBlockCoverage":true},{"functionName":"removeRoutingRule","ranges":[{"startOffset":4620,"endOffset":4994,"count":1},{"startOffset":4774,"endOffset":4801,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":4702,"endOffset":4749,"count":3}],"isBlockCoverage":true},{"functionName":"getRoutingRules","ranges":[{"startOffset":5066,"endOffset":5124,"count":5}],"isBlockCoverage":true},{"functionName":"disableRoutingRule","ranges":[{"startOffset":5127,"endOffset":5287,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5198,"endOffset":5245,"count":3}],"isBlockCoverage":true},{"functionName":"enableRoutingRule","ranges":[{"startOffset":5290,"endOffset":5448,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":5360,"endOffset":5407,"count":3}],"isBlockCoverage":true},{"functionName":"updateLoadBalancingStrategy","ranges":[{"startOffset":5451,"endOffset":5776,"count":0}],"isBlockCoverage":false},{"functionName":"getMetrics","ranges":[{"startOffset":5779,"endOffset":6695,"count":0}],"isBlockCoverage":false},{"functionName":"getServiceMetrics","ranges":[{"startOffset":6742,"endOffset":6823,"count":2}],"isBlockCoverage":true},{"functionName":"getCostMetrics","ranges":[{"startOffset":6826,"endOffset":6901,"count":1}],"isBlockCoverage":true},{"functionName":"getAllMetrics","ranges":[{"startOffset":6904,"endOffset":7042,"count":1},{"startOffset":6998,"endOffset":7019,"count":2}],"isBlockCoverage":true},{"functionName":"getContentAnalysis","ranges":[{"startOffset":7045,"endOffset":7128,"count":1}],"isBlockCoverage":true},{"functionName":"updateServiceMetrics","ranges":[{"startOffset":7173,"endOffset":7268,"count":16}],"isBlockCoverage":true},{"functionName":"applyRoutingRules","ranges":[{"startOffset":7271,"endOffset":8916,"count":8},{"startOffset":7430,"endOffset":8794,"count":18},{"startOffset":7457,"endOffset":7466,"count":0},{"startOffset":7526,"endOffset":8788,"count":2},{"startOffset":7898,"endOffset":8137,"count":0},{"startOffset":8148,"endOffset":8338,"count":0},{"startOffset":8349,"endOffset":8605,"count":0},{"startOffset":8616,"endOffset":8648,"count":0},{"startOffset":8659,"endOffset":8725,"count":0},{"startOffset":8736,"endOffset":8770,"count":0},{"startOffset":8794,"endOffset":8915,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7697,"endOffset":7767,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":7950,"endOffset":8116,"count":0}],"isBlockCoverage":false},{"functionName":"","ranges":[{"startOffset":8233,"endOffset":8304,"count":0}],"isBlockCoverage":false},{"functionName":"normalizeRule","ranges":[{"startOffset":8919,"endOffset":9533,"count":5},{"startOffset":9090,"endOffset":9101,"count":0},{"startOffset":9287,"endOffset":9306,"count":0},{"startOffset":9362,"endOffset":9366,"count":0},{"startOffset":9457,"endOffset":9461,"count":0},{"startOffset":9511,"endOffset":9532,"count":0}],"isBlockCoverage":true},{"functionName":"convertConditions","ranges":[{"startOffset":9536,"endOffset":9590,"count":5},{"startOffset":9580,"endOffset":9585,"count":0}],"isBlockCoverage":true},{"functionName":"publicApplyRoutingRules","ranges":[{"startOffset":9639,"endOffset":9721,"count":0}],"isBlockCoverage":false},{"functionName":"__selectServiceAsync","ranges":[{"startOffset":9724,"endOffset":10524,"count":11},{"startOffset":9954,"endOffset":9980,"count":0},{"startOffset":10019,"endOffset":10059,"count":3},{"startOffset":10059,"endOffset":10090,"count":8},{"startOffset":10090,"endOffset":10164,"count":3},{"startOffset":10171,"endOffset":10283,"count":3},{"startOffset":10290,"endOffset":10370,"count":1},{"startOffset":10377,"endOffset":10464,"count":1},{"startOffset":10471,"endOffset":10514,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":9833,"endOffset":9908,"count":26}],"isBlockCoverage":true},{"functionName":"selectService","ranges":[{"startOffset":10599,"endOffset":11195,"count":11},{"startOffset":10658,"endOffset":11006,"count":7}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":10899,"endOffset":10991,"count":21}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11018,"endOffset":11104,"count":11}],"isBlockCoverage":true},{"functionName":"selectServiceImmediate","ranges":[{"startOffset":11198,"endOffset":11968,"count":11},{"startOffset":11426,"endOffset":11438,"count":0},{"startOffset":11477,"endOffset":11503,"count":3},{"startOffset":11503,"endOffset":11534,"count":8},{"startOffset":11534,"endOffset":11608,"count":3},{"startOffset":11615,"endOffset":11727,"count":3},{"startOffset":11734,"endOffset":11814,"count":1},{"startOffset":11821,"endOffset":11908,"count":1},{"startOffset":11915,"endOffset":11958,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":11303,"endOffset":11380,"count":26}],"isBlockCoverage":true},{"functionName":"selectRoundRobin","ranges":[{"startOffset":11971,"endOffset":12130,"count":6}],"isBlockCoverage":true},{"functionName":"selectPerformanceBased","ranges":[{"startOffset":12133,"endOffset":12913,"count":6}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12219,"endOffset":12815,"count":16},{"startOffset":12396,"endOffset":12462,"count":0},{"startOffset":12488,"endOffset":12493,"count":0},{"startOffset":12495,"endOffset":12541,"count":0},{"startOffset":12567,"endOffset":12575,"count":0},{"startOffset":12577,"endOffset":12630,"count":0},{"startOffset":12648,"endOffset":12661,"count":10},{"startOffset":12663,"endOffset":12715,"count":4},{"startOffset":12746,"endOffset":12776,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12842,"endOffset":12869,"count":10}],"isBlockCoverage":true},{"functionName":"selectCostOptimized","ranges":[{"startOffset":12916,"endOffset":13275,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":12988,"endOffset":13179,"count":6},{"startOffset":13103,"endOffset":13119,"count":4},{"startOffset":13120,"endOffset":13124,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13206,"endOffset":13231,"count":6}],"isBlockCoverage":true},{"functionName":"selectContentAware","ranges":[{"startOffset":13278,"endOffset":14047,"count":2}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13358,"endOffset":13949,"count":6},{"startOffset":13486,"endOffset":13551,"count":0},{"startOffset":13553,"endOffset":13583,"count":0},{"startOffset":13620,"endOffset":13640,"count":2},{"startOffset":13640,"endOffset":13650,"count":0},{"startOffset":13668,"endOffset":13698,"count":0},{"startOffset":13731,"endOffset":13760,"count":0},{"startOffset":13762,"endOffset":13910,"count":0}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":13976,"endOffset":14003,"count":4}],"isBlockCoverage":true},{"functionName":"filterHealthyServices","ranges":[{"startOffset":14088,"endOffset":14183,"count":1}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":14149,"endOffset":14177,"count":3}],"isBlockCoverage":true},{"functionName":"updateServiceHealth","ranges":[{"startOffset":14186,"endOffset":14550,"count":2},{"startOffset":14466,"endOffset":14496,"count":0}],"isBlockCoverage":true},{"functionName":"evaluateCondition","ranges":[{"startOffset":14553,"endOffset":16051,"count":26},{"startOffset":14632,"endOffset":14743,"count":0},{"startOffset":14845,"endOffset":16004,"count":27},{"startOffset":14880,"endOffset":14969,"count":24},{"startOffset":14950,"endOffset":14969,"count":0},{"startOffset":14980,"endOffset":15081,"count":0},{"startOffset":15092,"endOffset":15191,"count":0},{"startOffset":15202,"endOffset":15324,"count":0},{"startOffset":15335,"endOffset":15710,"count":2},{"startOffset":15395,"endOffset":15400,"count":0},{"startOffset":15581,"endOffset":15594,"count":0},{"startOffset":15608,"endOffset":15679,"count":0},{"startOffset":15721,"endOffset":15986,"count":1},{"startOffset":15783,"endOffset":15788,"count":0},{"startOffset":15928,"endOffset":15941,"count":0},{"startOffset":16004,"endOffset":16029,"count":2},{"startOffset":16029,"endOffset":16050,"count":0}],"isBlockCoverage":true},{"functionName":"evaluateServiceFilter","ranges":[{"startOffset":16054,"endOffset":16749,"count":6},{"startOffset":16135,"endOffset":16228,"count":0},{"startOffset":16430,"endOffset":16443,"count":4},{"startOffset":16443,"endOffset":16462,"count":2},{"startOffset":16473,"endOffset":16571,"count":0},{"startOffset":16582,"endOffset":16684,"count":0},{"startOffset":16702,"endOffset":16727,"count":2},{"startOffset":16727,"endOffset":16748,"count":0}],"isBlockCoverage":true},{"functionName":"getRoutingReason","ranges":[{"startOffset":16752,"endOffset":17295,"count":4},{"startOffset":16855,"endOffset":16928,"count":0},{"startOffset":17041,"endOffset":17118,"count":0},{"startOffset":17125,"endOffset":17220,"count":0},{"startOffset":17227,"endOffset":17285,"count":0}],"isBlockCoverage":true},{"functionName":"getAppliedRules","ranges":[{"startOffset":17298,"endOffset":17555,"count":4},{"startOffset":17396,"endOffset":17526,"count":8},{"startOffset":17473,"endOffset":17520,"count":0}],"isBlockCoverage":true},{"functionName":"updateRequestMetrics","ranges":[{"startOffset":17558,"endOffset":18387,"count":4},{"startOffset":17922,"endOffset":18000,"count":0},{"startOffset":18056,"endOffset":18184,"count":3}],"isBlockCoverage":true},{"functionName":"initializeDefaultRules","ranges":[{"startOffset":18390,"endOffset":18955,"count":26}],"isBlockCoverage":true},{"functionName":"startMetricsCollection","ranges":[{"startOffset":18958,"endOffset":19061,"count":26}],"isBlockCoverage":true},{"functionName":"","ranges":[{"startOffset":19001,"endOffset":19050,"count":0}],"isBlockCoverage":false},{"functionName":"refreshServiceMetrics","ranges":[{"startOffset":19064,"endOffset":20291,"count":0}],"isBlockCoverage":false},{"functionName":"updateRequestResult","ranges":[{"startOffset":20342,"endOffset":20645,"count":0}],"isBlockCoverage":false},{"functionName":"updateServiceCostMetrics","ranges":[{"startOffset":20648,"endOffset":20752,"count":3}],"isBlockCoverage":true},{"functionName":"updateServiceContentAnalysis","ranges":[{"startOffset":20755,"endOffset":20861,"count":2}],"isBlockCoverage":true},{"functionName":"updateCostMetrics","ranges":[{"startOffset":20891,"endOffset":20989,"count":3}],"isBlockCoverage":true},{"functionName":"updateContentAnalysis","ranges":[{"startOffset":20992,"endOffset":21100,"count":2}],"isBlockCoverage":true},{"functionName":"recordRequest","ranges":[{"startOffset":21103,"endOffset":21370,"count":1102},{"startOffset":21302,"endOffset":21366,"count":100}],"isBlockCoverage":true},{"functionName":"getRequestHistory","ranges":[{"startOffset":21373,"endOffset":21435,"count":2}],"isBlockCoverage":true},{"functionName":"get","ranges":[{"startOffset":21543,"endOffset":21576,"count":26}],"isBlockCoverage":true}]}]}